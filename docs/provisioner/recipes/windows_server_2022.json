{
  "schema_version": "1.0",
  "task_target": "install-windows.target",
  "target_disk": "/dev/sda",
  "oci_url": "controller.internal:8080/os-images/windows-server:2022-datacenter",
  "wim_index": 1,
  "partition_layout": [
    {
      "size": "512M",
      "type_guid": "ef00",
      "format": "vfat",
      "label": "EFI",
      "bootable": true
    },
    {
      "size": "16M",
      "type_guid": "0c01",
      "format": "raw",
      "label": "MSR"
    },
    {
      "size": "100%",
      "type_guid": "0700",
      "format": "ntfs",
      "label": "Windows"
    }
  ],
  "unattend_xml": {
    "content": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n  <settings pass=\"specialize\">\n    <component name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n      <ComputerName>*</ComputerName>\n      <RegisteredOrganization>Shoal Provisioner</RegisteredOrganization>\n      <RegisteredOwner>IT Operations</RegisteredOwner>\n      <TimeZone>UTC</TimeZone>\n    </component>\n    <component name=\"Microsoft-Windows-Deployment\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n      <RunSynchronous>\n        <RunSynchronousCommand wcm:action=\"add\">\n          <Order>1</Order>\n          <Path>powershell.exe -ExecutionPolicy Bypass -Command \"Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False\"</Path>\n          <Description>Disable Windows Firewall for initial setup</Description>\n        </RunSynchronousCommand>\n      </RunSynchronous>\n    </component>\n  </settings>\n  <settings pass=\"oobeSystem\">\n    <component name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n      <OOBE>\n        <HideEULAPage>true</HideEULAPage>\n        <ProtectYourPC>1</ProtectYourPC>\n        <NetworkLocation>Work</NetworkLocation>\n        <HideWirelessSetupInOOBE>true</HideWirelessSetupInOOBE>\n      </OOBE>\n      <UserAccounts>\n        <AdministratorPassword>\n          <Value>QwBIAEEATgBHAEUALQBNAEUALQBTAGUAYwB1AHIAZQBQAEAAcwBzAHcAMAByAGQAIQA=</Value>\n          <PlainText>false</PlainText>\n        </AdministratorPassword>\n      </UserAccounts>\n      <AutoLogon>\n        <Password>\n          <Value>QwBIAEEATgBHAEUALQBNAEUALQBTAGUAYwB1AHIAZQBQAEAAcwBzAHcAMAByAGQAIQA=</Value>\n          <PlainText>false</PlainText>\n        </Password>\n        <Enabled>true</Enabled>\n        <Username>Administrator</Username>\n      </AutoLogon>\n      <FirstLogonCommands>\n        <SynchronousCommand wcm:action=\"add\">\n          <Order>1</Order>\n          <CommandLine>powershell.exe -ExecutionPolicy Bypass -Command \"Enable-PSRemoting -Force\"</CommandLine>\n          <Description>Enable PowerShell Remoting</Description>\n        </SynchronousCommand>\n      </FirstLogonCommands>\n    </component>\n  </settings>\n</unattend>"
  },
  "notes": "Windows Server 2022 Datacenter provisioning with automated setup. Password is base64-encoded 'CHANGE-ME-SecureP@ssw0rd!' (example placeholder) - you MUST change this before production use. The Windows Firewall is intentionally disabled in this example to allow initial provisioning access; in production, consider enabling the firewall and only opening required ports (RDP 3389, WinRM 5985/5986)."
}
